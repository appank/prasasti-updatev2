
# My Portofolio

A basic Home page


## Features

- Home Page



## Run Locally


Install dependencies

```bash
  npm install
```

Start the server

```bash
  npm run start
```

----------------------------------------------------------------


## Tech Stack

React, ORC , JavaScript, Chakra UI

**Webiste** Portofolio

## Supabase Workflow

This project uses Supabase for authentication, database, and storage.

### `surat_keterangan` Table

The `surat_keterangan` table stores all submissions for "Surat Keterangan".

**SQL Schema:**

```sql
CREATE TABLE public.surat_keterangan (
    id bigint NOT NULL,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    nama character varying,
    nik character varying,
    tempat_lahir character varying,
    tanggal_lahir date,
    jenis_kelamin character varying,
    agama character varying,
    pekerjaan character varying,
    status_perkawinan character varying,
    kewarganegaraan character varying,
    alamat text,
    keperluan text,
    file_url character varying,
    user_id uuid,
    status character varying DEFAULT 'Menunggu Verifikasi'::character varying,
    nomor character varying,
    pengadilan character varying,
    pendidikan character varying,
    tanggal character varying,
    pejabat character varying
);

ALTER TABLE public.surat_keterangan ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.surat_keterangan_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);

ALTER TABLE ONLY public.surat_keterangan
    ADD CONSTRAINT surat_keterangan_pkey PRIMARY KEY (id);

ALTER TABLE ONLY public.surat_keterangan
    ADD CONSTRAINT surat_keterangan_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id);
```

### Simplified PDF Workflow

1.  When an admin approves a submission, the status is updated in the `surat_keterangan` table.
2.  The user is then able to open a printable preview of the "Surat Keterangan".
3.  The user can use the browser's print functionality to save the preview as a PDF.

## Supabase Workflow

This project uses Supabase for authentication, database, and storage.

### `surat_keterangan` Table

The `surat_keterangan` table stores all submissions for "Surat Keterangan".

**SQL Schema:**

```sql
-- WARNING: This schema is for context only and is not meant to be run.
-- Table order and constraints may not be valid for execution.

CREATE TABLE public.profiles (
  id uuid NOT NULL DEFAULT gen_random_uuid(),
  role text,
  updated_at timestamp without time zone DEFAULT now(),
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  CONSTRAINT profiles_pkey PRIMARY KEY (id)
);
CREATE TABLE public.surat_keterangan (
  foto_url text,
  nama character varying,
  nik character varying,
  tempat_lahir character varying,
  tanggal_lahir date,
  jenis_kelamin character varying,
  pekerjaan character varying,
  alamat text,
  file_url character varying,
  user_id uuid,
  nomor character varying,
  pengadilan character varying,
  pendidikan character varying,
  tanggal character varying,
  pejabat character varying,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  status character varying DEFAULT 'Menunggu Verifikasi'::character varying,
  id bigint GENERATED ALWAYS AS IDENTITY NOT NULL,
  berkas_url text,
  tanggal_permohonan date,
  alamat_sesuai_ktp text,
  alamat_domisili text,
  jabatan character varying,
  alasan_permohonan text,
  alasan_tolak text,
  CONSTRAINT surat_keterangan_pkey PRIMARY KEY (id),
  CONSTRAINT surat_keterangan_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id)
);
```

### PDF Generation and Storage

1.  When an admin approves a submission, a PDF of the "Surat Keterangan" is generated.
2.  The generated PDF is uploaded to Supabase Storage in the `surat-keterangan` bucket.
3.  The URL of the PDF is stored in the `file_url` column of the `surat_keterangan` table.
4.  Users can then download the PDF from their dashboard.
